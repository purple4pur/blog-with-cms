(this["webpackJsonppurple4pur-s-blog"]=this["webpackJsonppurple4pur-s-blog"]||[]).push([[0],{37:function(e,t,a){e.exports=a.p+"static/media/logo.df728e58.ico"},41:function(e,t,a){e.exports=a(71)},50:function(e,t,a){},51:function(e,t,a){},53:function(e,t,a){},71:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(20),c=a(7),s=a(14),l=a(1),i=a(2),u=a(4),h=a(3),p=a(5),m=a(17),d=(a(50),a(51),a(37)),g=a.n(d),v=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).toggleMenu=function(){""===a.state.navClass?a.setState({navClass:" openMenu"}):a.setState({navClass:""})},a.handleOver1=function(){a.setState({hoverClass1:" hover"})},a.handleOver2=function(){a.setState({hoverClass2:" hover"})},a.handleOver3=function(){a.setState({hoverClass3:" hover"})},a.handleOver4=function(){a.setState({hoverClass4:" hover"})},a.handleOver5=function(){a.setState({hoverClass5:" hover"})},a.handleOver6=function(){a.setState({hoverClass6:" hover"})},a.handleOut=function(){a.setState({hoverClass1:"",hoverClass2:"",hoverClass3:"",hoverClass4:"",hoverClass5:"",hoverClass6:""})},a.state={navClass:"",hoverClass1:"",hoverClass2:"",hoverClass3:"",hoverClass4:"",hoverClass5:"",hoverClass6:""},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("header",null,r.a.createElement("div",{className:"header-ui"},r.a.createElement("span",{onClick:this.toggleMenu},r.a.createElement("i",{className:"fas fa-bars"})),r.a.createElement(c.c,{to:"/"},r.a.createElement("img",{src:g.a,alt:"Purple4pur's Blog"}))),r.a.createElement("nav",{className:"header-nav"+this.state.navClass},r.a.createElement("div",{className:"header-nav-bg-touch",onClick:this.toggleMenu}),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(c.c,{to:"/",className:"header-nav-mobile"},"\u9996\u9875 | HOME"),r.a.createElement(c.c,{to:"/",className:"header-nav-desktop"+this.state.hoverClass1,onMouseOver:this.handleOver1,onMouseOut:this.handleOut},"\u9996\u9875",r.a.createElement("div",null,r.a.createElement("span",null,"HOME")))),r.a.createElement("li",null,r.a.createElement(c.c,{to:"/coding",className:"header-nav-mobile"},"\u4ee3\u7801 | CODING"),r.a.createElement(c.c,{to:"/coding",className:"header-nav-desktop"+this.state.hoverClass2,onMouseOver:this.handleOver2,onMouseOut:this.handleOut},"\u4ee3\u7801",r.a.createElement("div",null,r.a.createElement("span",null,"CODING")))),r.a.createElement("li",null,r.a.createElement(c.c,{to:"/creating",className:"header-nav-mobile"},"\u521b\u4f5c | CREATING"),r.a.createElement(c.c,{to:"/creating",className:"header-nav-desktop"+this.state.hoverClass3,onMouseOver:this.handleOver3,onMouseOut:this.handleOut},"\u521b\u4f5c",r.a.createElement("div",null,r.a.createElement("span",null,"CREATING")))),r.a.createElement("li",null,r.a.createElement(c.c,{to:"/thoughts",className:"header-nav-mobile"},"\u6742\u8c08 | THOUGHTS"),r.a.createElement(c.c,{to:"/thoughts",className:"header-nav-desktop"+this.state.hoverClass4,onMouseOver:this.handleOver4,onMouseOut:this.handleOut},"\u6742\u8c08",r.a.createElement("div",null,r.a.createElement("span",null,"THOUGHTS")))),r.a.createElement("li",null,r.a.createElement(c.c,{to:"/tags",className:"header-nav-mobile"},"\u6807\u7b7e | TAGS"),r.a.createElement(c.c,{to:"/tags",className:"header-nav-desktop"+this.state.hoverClass5,onMouseOver:this.handleOver5,onMouseOut:this.handleOut},"\u6807\u7b7e",r.a.createElement("div",null,r.a.createElement("span",null,"TAGS")))),r.a.createElement("li",null,r.a.createElement(c.c,{to:"/about",className:"header-nav-mobile"},"\u5173\u4e8e | ABOUT"),r.a.createElement(c.c,{to:"/about",className:"header-nav-desktop"+this.state.hoverClass6,onMouseOver:this.handleOver6,onMouseOut:this.handleOut},"\u5173\u4e8e",r.a.createElement("div",null,r.a.createElement("span",null,"ABOUT")))))))}}]),t}(n.PureComponent),E=(a(53),function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("footer",null,r.a.createElement("span",null,r.a.createElement("i",{className:"far fa-copyright"})," ",r.a.createElement(c.b,{to:"/about"},"Purple4pur")," | 2020 | ",r.a.createElement(c.b,{to:"/admin"},"CMS")),r.a.createElement("span",null,r.a.createElement("a",{href:"http://www.beian.miit.gov.cn/",target:"_blank",rel:"noopener noreferrer"},"\u7ca4ICP\u590719158409\u53f7-1")))}}]),t}(n.PureComponent)),f="START_FETCH_LIST",O="FETCH_LIST_SUCCESS",b="FETCH_LIST_FAILED",j="START_FETCH_TAGS",C="FETCH_TAGS_SUCCESS",y="FETCH_TAGS_FAILED",L="START_VERIFY_TOKEN",S="VERIFY_TOKEN_SUCCESS",T="VERIFY_TOKEN_FAILED",I="START_VERIFY_LOGIN",k="VERIFY_LOGIN_SUCCESS",N="VERIFY_LOGIN_FAILED",_="START_REMOVE_TOKEN",R="REMOVE_TOKEN_SUCCESS",M=a(39),D=a.n(M).a.create({baseURL:"https://purple4pur.com/apis"}),F=function(e,t,a){return D.post("/login.php",{username:e,password:t,decoratedToken:a})},w=function(e){return{type:O,payload:{data:e}}},P=function(){return{type:b}},U=function(){return{type:y}},A=function(){return{type:T}},G=function(){return function(e){e({type:L}),localStorage.getItem("purple4pur/blog:JWT")?F(void 0,void 0,localStorage.getItem("purple4pur/blog:JWT")).then((function(t){var a;t.data.activeUser?e((a=t.data.activeUser,{type:S,payload:{user:a}})):(console.log(t.data),e(A()))})).catch((function(t){console.log(t),e(A())})):e(A())}},H=function(){return{type:N}},x=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("li",null,r.a.createElement("h3",null,this.props.title),r.a.createElement("p",null,this.props.content))}}]),t}(n.PureComponent),V=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.props.categoryID?this.props.fetchList(this.props.categoryID,void 0):this.props.fetchList(void 0,this.props.tagID)}},{key:"render",value:function(){return this.props.isLoading?r.a.createElement("div",null,"loading..."):this.props.fetchError?r.a.createElement("div",null,"\u83b7\u53d6\u6570\u636e\u5931\u8d25\uff0c\u8bf7\u4e0e\u7ef4\u62a4\u8005\u8054\u7cfb\u3002"):r.a.createElement("ul",null,this.props.list.map((function(e){return r.a.createElement(x,Object.assign({key:e.id},e))})))}}]),t}(n.PureComponent),J=Object(s.b)((function(e){return{isLoading:e.postList.isLoading,fetchError:e.postList.fetchError,list:e.postList.list}}),{fetchList:function(e,t){return function(a){var n;a({type:f}),e?(n=e,D.get("/categories.php",{params:{categoryID:n}})).then((function(e){200===e.status?a(w(e.data)):(console.log("fetch list error: status = "+e.status),a(P()))})).catch((function(e){console.log(e),a(P())})):function(e){return D.get("/tags.php",{params:{tagID:e}})}(t).then((function(e){200===e.status?a(w(e.data)):(console.log("fetch list error: status = "+e.status),a(P()))})).catch((function(e){console.log(e),a(P())}))}}})(V),Y=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("li",null,r.a.createElement(c.b,{to:"/tags/"+this.props.id},r.a.createElement("span",null,this.props.name)))}}]),t}(n.PureComponent),K=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchTags()}},{key:"render",value:function(){return this.props.isLoading?r.a.createElement("div",null,"loading..."):this.props.fetchError?r.a.createElement("div",null,"\u83b7\u53d6\u6570\u636e\u5931\u8d25\uff0c\u8bf7\u4e0e\u7ef4\u62a4\u8005\u8054\u7cfb\u3002"):r.a.createElement("ul",null,this.props.tags.map((function(e){return r.a.createElement(Y,Object.assign({key:e.id},e))})))}}]),t}(n.PureComponent),W=Object(s.b)((function(e){return{isLoading:e.tagList.isLoading,fetchError:e.tagList.fetchError,tags:e.tagList.tags}}),{fetchTags:function(){return function(e){e({type:j}),D.get("/tags.php").then((function(t){var a;200===t.status?e((a=t.data,{type:C,payload:{data:a}})):(console.log("fetch list error: status = "+t.status),e(U()))})).catch((function(t){console.log(t),e(U())}))}}})(K),B=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"\u8fd9\u91cc\u662f\u9996\u9875\u3002Coming soon..."))}}]),t}(n.PureComponent),q=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"\u8fd9\u91cc\u662f\u4ee3\u7801\u3002Coming soon."),r.a.createElement(J,{categoryID:1}))}}]),t}(n.PureComponent),z=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"\u8fd9\u91cc\u662f\u521b\u4f5c\u3002Coming soon."),r.a.createElement(J,{categoryID:2}))}}]),t}(n.PureComponent),Q=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"\u8fd9\u91cc\u662f\u6742\u8c08\u3002Coming soon."),r.a.createElement(J,{categoryID:3}))}}]),t}(n.PureComponent),X=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"\u8fd9\u91cc\u662f\u5173\u4e8e\u3002Coming soon."))}}]),t}(n.PureComponent),Z=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return this.props.match.params.tagID?r.a.createElement(J,{tagID:this.props.match.params.tagID}):r.a.createElement(W,null)}}]),t}(n.PureComponent),$=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,"404. \u672a\u627e\u5230\u6b64\u9875\u9762\u3002")}}]),t}(n.PureComponent),ee=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).handleRmToken=function(){a.props.removeToken()},a.state={activeView:a.props.match.params.viewSelector,isReadyToRedirect:!1},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.props.verifyToken(),this.setState({isReadyToRedirect:!0})}},{key:"render",value:function(){return"login"===this.state.activeView?r.a.createElement(m.b,{component:ne,path:"/admin/login"}):this.props.isLoading||!this.state.isReadyToRedirect?r.a.createElement("div",null,"loading..."):this.props.isLoggedIn?r.a.createElement(r.a.Fragment,null,r.a.createElement("span",null,"\u5df2\u7ecf\u767b\u9646\u4e3a\uff1a",this.props.activeUser),r.a.createElement("input",{type:"button",value:"\u9000\u51fa",onClick:this.handleRmToken})):r.a.createElement(m.a,{to:"/admin/login"})}}]),t}(n.PureComponent),te=Object(s.b)((function(e){return{isLoading:e.adminStatus.isLoading,isLoggedIn:e.adminStatus.isLoggedIn,activeUser:e.adminStatus.activeUser}}),{verifyToken:G,removeToken:function(){return function(e){e({type:_}),localStorage.removeItem("purple4pur/blog:JWT"),e({type:R}),e(G())}}})(ee),ae=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).handleChgUser=function(e){a.setState({user:e.target.value})},a.handleChgPwd=function(e){a.setState({pwd:e.target.value})},a.handleSubmit=function(e){e.preventDefault(),a.props.verifyLogin(a.state.user,a.state.pwd)},a.handleReset=function(e){e.preventDefault(),a.setState({user:"",pwd:""})},a.state={user:"purple4pur",pwd:"123456"},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return this.props.isLoading?r.a.createElement("div",null,"loading..."):this.props.isLoggedIn?r.a.createElement(m.a,{to:"/admin"}):r.a.createElement("form",null,r.a.createElement("div",null,r.a.createElement("span",null,"\u7528\u6237\u540d\uff1a"),r.a.createElement("input",{type:"text",name:"username",placeholder:"username",value:this.state.user,autoComplete:"off",onChange:this.handleChgUser})),r.a.createElement("div",null,r.a.createElement("span",null,"\u5bc6\u7801\uff1a"),r.a.createElement("input",{type:"password",name:"password",placeholder:"********",value:this.state.pwd,autoComplete:"off",onChange:this.handleChgPwd})),r.a.createElement("input",{type:"submit",value:"\u767b\u9646",onClick:this.handleSubmit}),r.a.createElement("input",{type:"reset",value:"\u91cd\u7f6e",onClick:this.handleReset}))}}]),t}(n.PureComponent),ne=Object(s.b)((function(e){return{isLoading:e.adminStatus.isLoading,isLoggedIn:e.adminStatus.isLoggedIn}}),{verifyLogin:function(e,t){return function(a){a({type:I}),F(e,t,void 0).then((function(e){"Verified."===e.data?(localStorage.setItem("purple4pur/blog:JWT",e.headers.authorization),a({type:k}),a(G())):(console.log(e.data),a(H()))})).catch((function(e){console.log(e),a(H())}))}},verifyToken:G})(ae),re=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(v,null),r.a.createElement(m.d,null,r.a.createElement(m.b,{component:B,path:"/",exact:!0}),r.a.createElement(m.b,{component:q,path:"/coding",exact:!0}),r.a.createElement(m.b,{component:z,path:"/creating",exact:!0}),r.a.createElement(m.b,{component:Q,path:"/thoughts",exact:!0}),r.a.createElement(m.b,{component:Z,path:"/tags/:tagID?",exact:!0}),r.a.createElement(m.b,{component:X,path:"/about",exact:!0}),r.a.createElement(m.b,{component:te,path:"/admin/:viewSelector?",exact:!0}),r.a.createElement(m.b,{component:$,path:"/404",exact:!0}),r.a.createElement(m.a,{to:"/404"})),r.a.createElement(E,null))}}]),t}(n.PureComponent),oe=a(18),ce=a(40),se=a(8),le={isLoading:!1,fetchError:!1,list:[]},ie={isLoading:!1,fetchError:!1,tags:[]},ue={isLoading:!1,isLoggedIn:!1,activeUser:""},he=Object(oe.c)({postList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:le,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:return Object(se.a)({},e,{isLoading:!0});case O:return Object(se.a)({},e,{isLoading:!1,fetchError:!1,list:t.payload.data});case b:return Object(se.a)({},e,{isLoading:!1,fetchError:!0});default:return e}},tagList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j:return Object(se.a)({},e,{isLoading:!0});case C:return Object(se.a)({},e,{isLoading:!1,fetchError:!1,tags:t.payload.data});case y:return Object(se.a)({},e,{isLoading:!1,fetchError:!0});default:return e}},adminStatus:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ue,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case L:return Object(se.a)({},e,{isLoading:!0});case S:return Object(se.a)({},e,{isLoading:!1,isLoggedIn:!0,activeUser:t.payload.user});case T:return Object(se.a)({},e,{isLoading:!1,isLoggedIn:!1,activeUser:""});case I:return Object(se.a)({},e,{isLoading:!0});case k:case N:return Object(se.a)({},e,{isLoading:!1});case _:return Object(se.a)({},e,{isLoading:!0});case R:return Object(se.a)({},e,{isLoading:!1,activeUser:""});default:return e}}}),pe=Object(oe.d)(he,Object(oe.a)(ce.a));Object(o.render)(r.a.createElement(s.a,{store:pe},r.a.createElement(c.a,{forceRefresh:!0},r.a.createElement(re,null))),document.querySelector("#root"))}},[[41,1,2]]]);
//# sourceMappingURL=main.1198107a.chunk.js.map