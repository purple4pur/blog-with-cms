(this["webpackJsonppurple4pur-s-blog"]=this["webpackJsonppurple4pur-s-blog"]||[]).push([[0],{152:function(e,t,a){},169:function(e,t,a){},170:function(e,t,a){},171:function(e,t,a){},172:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(26),c=a(6),s=a(9),l=a(1),i=a(2),u=a(4),p=a(3),d=a(5),h=a(19),m=(a(69),a(70),a(55)),f=a.n(m),E=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(p.a)(t).call(this,e))).toggleMenu=function(){""===a.state.navClass?a.setState({navClass:" openMenu"}):a.setState({navClass:""})},a.handleOver1=function(){a.setState({hoverClass1:" hover"})},a.handleOver2=function(){a.setState({hoverClass2:" hover"})},a.handleOver3=function(){a.setState({hoverClass3:" hover"})},a.handleOver4=function(){a.setState({hoverClass4:" hover"})},a.handleOver5=function(){a.setState({hoverClass5:" hover"})},a.handleOver6=function(){a.setState({hoverClass6:" hover"})},a.handleOut=function(){a.setState({hoverClass1:"",hoverClass2:"",hoverClass3:"",hoverClass4:"",hoverClass5:"",hoverClass6:""})},a.state={navClass:"",hoverClass1:"",hoverClass2:"",hoverClass3:"",hoverClass4:"",hoverClass5:"",hoverClass6:""},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("header",null,r.a.createElement("div",{className:"header-ui"},r.a.createElement("span",{onClick:this.toggleMenu},r.a.createElement("i",{className:"fas fa-bars"})),r.a.createElement(c.c,{to:"/"},r.a.createElement("img",{src:f.a,alt:"Purple4pur's Blog"}))),r.a.createElement("nav",{className:"header-nav"+this.state.navClass},r.a.createElement("div",{className:"header-nav-bg-touch",onClick:this.toggleMenu}),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(c.c,{to:"/",className:"header-nav-mobile"},"\u9996\u9875 | HOME"),r.a.createElement(c.c,{to:"/",className:"header-nav-desktop"+this.state.hoverClass1,onMouseOver:this.handleOver1,onMouseOut:this.handleOut},"\u9996\u9875",r.a.createElement("div",null,r.a.createElement("span",null,"HOME")))),r.a.createElement("li",null,r.a.createElement(c.c,{to:"/coding",className:"header-nav-mobile"},"\u4ee3\u7801 | CODING"),r.a.createElement(c.c,{to:"/coding",className:"header-nav-desktop"+this.state.hoverClass2,onMouseOver:this.handleOver2,onMouseOut:this.handleOut},"\u4ee3\u7801",r.a.createElement("div",null,r.a.createElement("span",null,"CODING")))),r.a.createElement("li",null,r.a.createElement(c.c,{to:"/creating",className:"header-nav-mobile"},"\u521b\u4f5c | CREATING"),r.a.createElement(c.c,{to:"/creating",className:"header-nav-desktop"+this.state.hoverClass3,onMouseOver:this.handleOver3,onMouseOut:this.handleOut},"\u521b\u4f5c",r.a.createElement("div",null,r.a.createElement("span",null,"CREATING")))),r.a.createElement("li",null,r.a.createElement(c.c,{to:"/thoughts",className:"header-nav-mobile"},"\u6742\u8c08 | THOUGHTS"),r.a.createElement(c.c,{to:"/thoughts",className:"header-nav-desktop"+this.state.hoverClass4,onMouseOver:this.handleOver4,onMouseOut:this.handleOut},"\u6742\u8c08",r.a.createElement("div",null,r.a.createElement("span",null,"THOUGHTS")))),r.a.createElement("li",null,r.a.createElement(c.c,{to:"/tags",className:"header-nav-mobile"},"\u6807\u7b7e | TAGS"),r.a.createElement(c.c,{to:"/tags",className:"header-nav-desktop"+this.state.hoverClass5,onMouseOver:this.handleOver5,onMouseOut:this.handleOut},"\u6807\u7b7e",r.a.createElement("div",null,r.a.createElement("span",null,"TAGS")))),r.a.createElement("li",null,r.a.createElement(c.c,{to:"/about",className:"header-nav-mobile"},"\u5173\u4e8e | ABOUT"),r.a.createElement(c.c,{to:"/about",className:"header-nav-desktop"+this.state.hoverClass6,onMouseOver:this.handleOver6,onMouseOut:this.handleOut},"\u5173\u4e8e",r.a.createElement("div",null,r.a.createElement("span",null,"ABOUT")))))))}}]),t}(n.PureComponent),b=(a(72),function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("footer",{className:"footer"},r.a.createElement("span",null,r.a.createElement("i",{className:"far fa-copyright"})," ",r.a.createElement(c.b,{to:"/about"},"Purple4pur")," | 2020 | ",r.a.createElement(c.b,{to:"/admin"},"CMS")),r.a.createElement("span",null,r.a.createElement("a",{href:"http://www.beian.miit.gov.cn/",target:"_blank",rel:"noopener noreferrer"},"\u7ca4ICP\u590719158409\u53f7-1")))}}]),t}(n.PureComponent)),g=a(57),v=a.n(g),O=(a(152),function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"markdown-body"},r.a.createElement(v.a,{source:this.props.content}))}}]),t}(n.PureComponent)),j="START_FETCH_LIST",y="FETCH_LIST_SUCCESS",C="FETCH_LIST_FAILED",S="START_FETCH_POST",T="FETCH_POST_SUCCESS",L="FETCH_POST_FAILED",k="START_FETCH_TAGS",I="FETCH_TAGS_SUCCESS",M="FETCH_TAGS_FAILED",D="START_VERIFY_TOKEN",P="VERIFY_TOKEN_SUCCESS",N="VERIFY_TOKEN_FAILED",_="START_VERIFY_LOGIN",w="VERIFY_LOGIN_SUCCESS",R="VERIFY_LOGIN_FAILED",F="START_REMOVE_TOKEN",x="REMOVE_TOKEN_SUCCESS",U="SET_ERROR_MSG",A="RESET_ERROR_MSG",B="START_ADD_POST",G="ADD_POST_SUCCESS",H=a(58),V=a.n(H).a.create({baseURL:"https://purple4pur.com/apis"});V.defaults.headers.post["Content-type"]="application/json; charset=utf-8";var J=function(e,t,a){return V.post("/login.php",{username:e,password:t,decoratedToken:a})},W=function(){return{type:L}},Y=function(e){return{type:y,payload:{data:e}}},K=function(){return{type:C}},q=function(){return{type:M}},z=function(){return{type:N}},Q=function(){return function(e){e({type:D}),localStorage.getItem("purple4pur/blog:JWT")?J(void 0,void 0,localStorage.getItem("purple4pur/blog:JWT")).then((function(t){var a,n;t.data.activeUser?e((a=t.data.activeUser,n=t.data.activeUserID,{type:P,payload:{user:a,id:n}})):(e(z()),e(Z()))})).catch((function(t){console.log(t),e(z()),e($(7))})):e(z())}},X=function(){return{type:R}},Z=function(){return function(e){e({type:F}),localStorage.removeItem("purple4pur/blog:JWT"),e({type:x}),e(Q())}},$=function(e){return{type:U,payload:{code:e}}},ee=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return console.log(this.props),r.a.createElement("li",null,r.a.createElement(c.b,{to:"/post/"+this.props.id},r.a.createElement("h3",null,this.props.title)))}}]),t}(n.PureComponent),te=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.props.categoryID?this.props.fetchList(this.props.categoryID,void 0,void 0):this.props.tagID?this.props.fetchList(void 0,this.props.tagID,void 0):this.props.fetchList(void 0,void 0,this.props.authorID)}},{key:"render",value:function(){return this.props.isLoading?r.a.createElement("div",null,"loading..."):this.props.fetchError?null:r.a.createElement("ul",null,this.props.list.map((function(e){return r.a.createElement(ee,Object.assign({key:e.id},e))})))}}]),t}(n.PureComponent),ae=Object(s.b)((function(e){return{isLoading:e.postList.isLoading,fetchError:e.postList.fetchError,list:e.postList.list}}),{fetchList:function(e,t,a){return function(n){var r;n({type:j}),e?(r=e,V.get("/categories.php",{params:{categoryID:r}})).then((function(e){e.data.errCode?(console.log(e.data.errMsg),n(K()),n($(e.data.errCode))):e.data[0].id?n(Y(e.data)):(console.log("Error: "+e.data),n(K()),n($(99)))})).catch((function(e){console.log(e),n(K()),n($(7))})):t?function(e){return V.get("/tags.php",{params:{tagID:e}})}(t).then((function(e){e.data.errCode?(console.log(e.data.errMsg),n(K()),n($(e.data.errCode))):e.data[0].id?n(Y(e.data)):(console.log("Error: "+e.data),n(K()),n($(99)))})).catch((function(e){console.log(e),n(K()),n($(7))})):function(e){return V.get("/authors.php",{params:{authorID:e}})}(a).then((function(e){e.data.errCode?(console.log(e.data.errMsg),n(K()),n($(e.data.errCode))):e.data[0].id?n(Y(e.data)):(console.log("Error: "+e.data),n(K()),n($(99)))})).catch((function(e){console.log(e),n(K()),n($(7))}))}}})(te),ne=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("li",null,r.a.createElement(c.b,{to:"/tags/"+this.props.id},r.a.createElement("span",null,this.props.name)))}}]),t}(n.PureComponent),re=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchTags()}},{key:"render",value:function(){return this.props.isLoading?r.a.createElement("div",null,"loading..."):this.props.fetchError?r.a.createElement("div",null,"\u83b7\u53d6\u6570\u636e\u5931\u8d25"):r.a.createElement("ul",null,this.props.tags.map((function(e){return r.a.createElement(ne,Object.assign({key:e.id},e))})))}}]),t}(n.PureComponent),oe=Object(s.b)((function(e){return{isLoading:e.tagList.isLoading,fetchError:e.tagList.fetchError,tags:e.tagList.tags}}),{fetchTags:function(){return function(e){e({type:k}),V.get("/tags.php").then((function(t){var a;t.data[0].id?e((a=t.data,{type:I,payload:{data:a}})):(console.log("Error: "+t.data),e(q()),e($(99)))})).catch((function(t){console.log(t),e(q()),e($(7))}))}}})(re),ce=(a(169),function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).handleClick=function(){a.props.resetErrorMsg()},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"error-msgbox"},r.a.createElement("h3",{className:"error-title"},r.a.createElement("span",null,"\u53d1\u751f\u9519\u8bef"),r.a.createElement("button",{onClick:this.handleClick},r.a.createElement("i",{className:"fas fa-times"}))),r.a.createElement("p",null,this.props.errMsg),r.a.createElement("p",null,"Error ",this.props.errCode," ",r.a.createElement("a",{href:"https://github.com/purple4pur/blog-with-cms/blob/master/error-code-table.md",target:"_blank",rel:"noopener noreferrer"},"\u4e86\u89e3\u66f4\u591a")))}}]),t}(n.PureComponent)),se=Object(s.b)((function(e){return{errMsg:e.errorMsg.errMsg,errCode:e.errorMsg.errCode}}),{resetErrorMsg:function(){return{type:A}}})(ce),le=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"\u9996\u9875"))}}]),t}(n.PureComponent),ie=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){document.title="\u4ee3\u7801 | Purple4pur's Blog"}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(ae,{categoryID:1}))}}]),t}(n.PureComponent),ue=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){document.title="\u521b\u4f5c | Purple4pur's Blog"}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(ae,{categoryID:2}))}}]),t}(n.PureComponent),pe=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){document.title="\u6742\u8c08 | Purple4pur's Blog"}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(ae,{categoryID:3}))}}]),t}(n.PureComponent),de=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){document.title="\u5173\u4e8e | Purple4pur's Blog"}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"\u5173\u4e8e"))}}]),t}(n.PureComponent),he=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){document.title="\u6807\u7b7e | Purple4pur's Blog"}},{key:"render",value:function(){return this.props.match.params.tagID?r.a.createElement(ae,{tagID:this.props.match.params.tagID}):r.a.createElement(oe,null)}}]),t}(n.PureComponent),me=(a(170),function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){document.title="404 | Purple4pur's Blog"}},{key:"render",value:function(){return r.a.createElement("div",{className:"notfound-box"},r.a.createElement("div",{className:"notfound-txt"},r.a.createElement("h1",null,"404"),r.a.createElement("p",null,"\u83ab\u6b3a\u6211\u6ca1\u6709\u5199\u8fd9\u4e00\u9875"),r.a.createElement("p",null,"\u8fd8\u4e0d\u901f\u901f",r.a.createElement(c.b,{to:"/"},"\u8fd4\u56de\u9996\u9875"))))}}]),t}(n.PureComponent)),fe=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("ul",null,r.a.createElement("li",null,"manage"===this.props.view?"*":"",r.a.createElement(c.b,{to:"/admin/manage"},"\u6587\u7ae0\u7ba1\u7406")),r.a.createElement("li",null,"newpost"===this.props.view?"*":"",r.a.createElement(c.b,{to:"/admin/newpost"},"\u6587\u7ae0\u53d1\u5e03")),r.a.createElement("li",null,"draft"===this.props.view?"*":"",r.a.createElement(c.b,{to:"/admin/draft"},"\u8349\u7a3f\u7bb1")),r.a.createElement("li",null,"stats"===this.props.view?"*":"",r.a.createElement(c.b,{to:"/admin/stats"},"\u6280\u672f\u7edf\u8ba1")))}}]),t}(n.PureComponent),Ee=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(ae,{authorID:this.props.activeUserID}))}}]),t}(n.PureComponent),be=Object(s.b)((function(e){return{activeUserID:e.adminStatus.activeUserID}}))(Ee),ge=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(p.a)(t).call(this,e))).updateTitle=function(e){a.setState({title:e.target.value})},a.updateContent=function(e){a.setState({content:e.target.value})},a.handleSubmit=function(e){e.preventDefault(),a.props.addPost(a.state.title,a.state.content)},a.state={title:"",content:""},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("form",null,r.a.createElement("div",null,r.a.createElement("span",null,"\u6807\u9898\uff1a"),r.a.createElement("input",{type:"text",name:"title",value:this.state.title,onChange:this.updateTitle})),r.a.createElement("div",null,r.a.createElement("span",null,"\u6b63\u6587\uff1a"),r.a.createElement("textarea",{name:"content",value:this.state.content,onChange:this.updateContent})),r.a.createElement("div",{className:"preview-box"},r.a.createElement("span",null,"\u6b63\u6587\u9884\u89c8\uff1a"),r.a.createElement(O,{content:this.state.content})),r.a.createElement("input",{type:"submit",value:"\u53d1\u5e03",onClick:this.handleSubmit})))}}]),t}(n.PureComponent),ve=Object(s.b)((function(e){return{}}),{addPost:function(e,t){return function(a){var n,r,o;a({type:B}),(n=localStorage.getItem("purple4pur/blog:JWT"),r=e,o=t,V.post("/update_post.php",{decoratedToken:n,title:r,content:o})).then((function(e){console.log(e.data)})),a({type:G})}}})(ge),Oe=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,"Draft")}}]),t}(n.PureComponent),je=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,"Stats")}}]),t}(n.PureComponent),ye={login:"\u767b\u9646",manage:"\u6587\u7ae0\u7ba1\u7406",newpost:"\u6587\u7ae0\u53d1\u5e03",draft:"\u8349\u7a3f\u7bb1",stats:"\u6280\u672f\u7edf\u8ba1"},Ce=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(p.a)(t).call(this,e))).handleRmToken=function(){a.props.removeToken()},a.state={activeView:a.props.match.params.viewSelector,isReadyToRedirect:!1},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){document.title=ye[this.state.activeView]+" - CMS | Purple4pur's Blog",this.props.verifyToken(),this.setState({isReadyToRedirect:!0})}},{key:"render",value:function(){return"login"===this.state.activeView?r.a.createElement(h.b,{component:Le,path:"/admin/login"}):this.props.isLoading||!this.state.isReadyToRedirect?r.a.createElement("div",null,"loading..."):this.props.isLoggedIn?r.a.createElement(r.a.Fragment,null,r.a.createElement("span",null,"\u5df2\u7ecf\u767b\u9646\u4e3a\uff1a",this.props.activeUser),r.a.createElement("input",{type:"button",value:"\u9000\u51fa",onClick:this.handleRmToken}),r.a.createElement(fe,{view:this.state.activeView}),r.a.createElement(h.d,null,r.a.createElement(h.a,{from:"/admin",to:"/admin/manage",exact:!0}),r.a.createElement(h.b,{component:be,path:"/admin/manage",exact:!0}),r.a.createElement(h.b,{component:ve,path:"/admin/newpost",exact:!0}),r.a.createElement(h.b,{component:Oe,path:"/admin/draft",exact:!0}),r.a.createElement(h.b,{component:je,path:"/admin/stats",exact:!0}),r.a.createElement(h.a,{to:"/404"}))):r.a.createElement(h.a,{to:"/admin/login"})}}]),t}(n.PureComponent),Se=Object(s.b)((function(e){return{isLoading:e.adminStatus.isLoading,isLoggedIn:e.adminStatus.isLoggedIn,activeUser:e.adminStatus.activeUser,activeUserID:e.adminStatus.activeUserID}}),{verifyToken:Q,removeToken:Z})(Ce),Te=(a(171),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(p.a)(t).call(this,e))).handleFocus1=function(){a.setState({focus1:!0})},a.handleBlur1=function(){""===a.state.user&&a.setState({focus1:!1})},a.handleFocus2=function(){a.setState({focus2:!0})},a.handleBlur2=function(){""===a.state.pwd&&a.setState({focus2:!1})},a.handleChgUser=function(e){a.setState({user:e.target.value})},a.handleChgPwd=function(e){a.setState({pwd:e.target.value})},a.handleSubmit=function(e){e.preventDefault(),a.props.verifyLogin(a.state.user,a.state.pwd)},a.handleReset=function(e){e.preventDefault(),a.setState({user:"",pwd:"",focus1:!1,focus2:!1})},a.state={user:"",pwd:"",focus1:!1,focus2:!1},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return this.props.isLoading?r.a.createElement("div",null,"loading..."):this.props.isLoggedIn?r.a.createElement(h.a,{to:"/admin"}):r.a.createElement("div",{className:"login-box"},r.a.createElement("form",{className:"login-form"},r.a.createElement("div",{className:"login-txtb"},r.a.createElement("input",{type:"text",name:"username",placeholder:"USERNAME",value:this.state.user,autoComplete:"off",onChange:this.handleChgUser,onFocus:this.handleFocus1,onBlur:this.handleBlur1}),r.a.createElement("div",{className:"login-txtb-not-focus"+(this.state.focus1?" login-txtb-focus":"")})),r.a.createElement("div",{className:"login-txtb"},r.a.createElement("input",{type:"password",name:"password",placeholder:"********",value:this.state.pwd,autoComplete:"off",onChange:this.handleChgPwd,onFocus:this.handleFocus2,onBlur:this.handleBlur2}),r.a.createElement("div",{className:"login-txtb-not-focus"+(this.state.focus2?" login-txtb-focus":"")})),r.a.createElement("div",{className:"login-btns"},r.a.createElement("input",{type:"submit",value:"\u767b\u9646",onClick:this.handleSubmit}),r.a.createElement("input",{type:"reset",value:"\u91cd\u7f6e",onClick:this.handleReset}))))}}]),t}(n.PureComponent)),Le=Object(s.b)((function(e){return{isLoading:e.adminStatus.isLoading,isLoggedIn:e.adminStatus.isLoggedIn}}),{verifyLogin:function(e,t){return function(a){a({type:_}),J(e,t,void 0).then((function(e){""===e.data?(localStorage.setItem("purple4pur/blog:JWT",e.headers.authorization),a({type:w}),a(Q())):(console.log(e.data.errMsg),a(X()),a($(e.data.errCode)))})).catch((function(e){console.log(e),a(X()),a($(7))}))}},verifyToken:Q})(Te),ke=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchPost(this.props.match.params.id)}},{key:"render",value:function(){return document.title=(this.props.data.title?this.props.data.title+" - ":"")+"Purple4pur's Blog",this.props.isLoading?r.a.createElement("div",null,"loading..."):r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,this.props.data.title),r.a.createElement(O,{content:this.props.data.content}))}}]),t}(n.PureComponent),Ie=Object(s.b)((function(e){return{isLoading:e.post.isLoading,data:e.post.data}}),{fetchPost:function(e){return function(t){var a;t({type:S}),(a=e,V.get("/post.php",{params:{postID:a}})).then((function(e){var a;e.data.errCode?(console.log(e.data.errMsg),t(W()),t($(e.data.errCode))):e.data.id?t((a=e.data,{type:T,payload:{data:a}})):(console.log("Error: "+e.data),t(W()),t($(99)))})).catch((function(e){console.log(e),t(K()),t($(7))}))}}})(ke),Me=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(E,null),r.a.createElement(h.d,null,r.a.createElement(h.b,{component:le,path:"/",exact:!0}),r.a.createElement(h.b,{component:ie,path:"/coding",exact:!0}),r.a.createElement(h.b,{component:ue,path:"/creating",exact:!0}),r.a.createElement(h.b,{component:pe,path:"/thoughts",exact:!0}),r.a.createElement(h.b,{component:he,path:"/tags/:tagID?",exact:!0}),r.a.createElement(h.b,{component:Ie,path:"/post/:id",exact:!0}),r.a.createElement(h.b,{component:de,path:"/about",exact:!0}),r.a.createElement(h.b,{component:Se,path:"/admin/:viewSelector?",exact:!0}),r.a.createElement(h.b,{component:me,path:"/404",exact:!0}),r.a.createElement(h.a,{to:"/404"})),r.a.createElement(b,null),this.props.isError?r.a.createElement(se,null):null)}}]),t}(n.PureComponent),De=Object(s.b)((function(e){return{isError:e.errorMsg.isError}}))(Me),Pe=a(20),Ne=a(59),_e=a(8),we={isLoading:!1,data:{}},Re={isLoading:!1,fetchError:!1,list:[]},Fe={isLoading:!1,fetchError:!1,tags:[]},xe={isLoading:!1,isLoggedIn:!1,activeUser:"",activeUserID:void 0},Ue={isError:!1,errCode:0,errMsg:""},Ae={0:"",1:"\u6570\u636e\u5e93\u8fde\u63a5\u5931\u8d25",2:"\u7528\u6237\u540d\u4e3a\u7a7a",3:"\u5bc6\u7801\u4e3a\u7a7a",4:"\u7528\u6237\u540d\u4e0d\u5b58\u5728",5:"\u5bc6\u7801\u9519\u8bef",6:"\u65e0\u6548 JWT",7:"\u7f51\u7edc\u9519\u8bef",8:"\u67e5\u8be2\u7ed3\u679c\u4e3a\u7a7a",99:"\u672a\u77e5\u9519\u8bef"},Be={},Ge=Object(Pe.c)({post:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:we,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case S:return Object(_e.a)({},e,{isLoading:!0});case T:return Object(_e.a)({},e,{isLoading:!1,data:t.payload.data});case L:return we;default:return e}},postList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Re,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j:return Object(_e.a)({},e,{isLoading:!0});case y:return Object(_e.a)({},e,{isLoading:!1,fetchError:!1,list:t.payload.data});case C:return Object(_e.a)({},e,{isLoading:!1,fetchError:!0});default:return e}},tagList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case k:return Object(_e.a)({},e,{isLoading:!0});case I:return Object(_e.a)({},e,{isLoading:!1,fetchError:!1,tags:t.payload.data});case M:return Object(_e.a)({},e,{isLoading:!1,fetchError:!0});default:return e}},adminStatus:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case D:return Object(_e.a)({},e,{isLoading:!0});case P:return Object(_e.a)({},e,{isLoading:!1,isLoggedIn:!0,activeUser:t.payload.user,activeUserID:t.payload.id});case N:return xe;case _:return Object(_e.a)({},e,{isLoading:!0});case w:case R:return Object(_e.a)({},e,{isLoading:!1});case F:return Object(_e.a)({},e,{isLoading:!0});case x:return xe;default:return e}},errorMsg:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ue,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case U:return Object(_e.a)({},e,{isError:!0,errCode:t.payload.code,errMsg:Ae[t.payload.code]});case A:return Object(_e.a)({},e,{isError:!1});default:return e}},addPost:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Be,t=arguments.length>1?arguments[1]:void 0;return t.type,e}}),He=Object(Pe.d)(Ge,Object(Pe.a)(Ne.a));Object(o.render)(r.a.createElement(s.a,{store:He},r.a.createElement(c.a,{forceRefresh:!0},r.a.createElement(De,null))),document.querySelector("#root"))},55:function(e,t,a){e.exports=a.p+"static/media/logo.df728e58.ico"},60:function(e,t,a){e.exports=a(172)},69:function(e,t,a){},70:function(e,t,a){},72:function(e,t,a){}},[[60,1,2]]]);
//# sourceMappingURL=main.fda60aae.chunk.js.map